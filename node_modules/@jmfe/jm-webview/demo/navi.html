<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Webview测试</title>
	<meta charset="UTF-8">
	<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
	<link href="./bootstrap.min.css" type="text/css" rel="stylesheet">

	<style type="text/css">
		body {
			background: white;
			padding-bottom: 50px;
		}

		section {
			margin-bottom: 30px;
		}

		input,
		textarea {
			border: 1px solid #ccc;
			font-size: 18px;
			padding: 5px 10px;
			width: 130px;
		}

		.action-btn {
			font-size: 18px;
			border: 1px solid #888;
			padding: 5px 10px;
			margin: 10px 5px;
			border-radius: 10px;
			background: linear-gradient(to bottom, #ddd 0%, #bbb 100%);
		}

		h1 {
			text-align: center;
			border-bottom: 1px solid #ccc;
			padding: 15px 0;
			margin-bottom: 15px;
		}

		h2 {
			margin-top: 15px;
			font-size: 24px;
		}

		dt,
		dd {
			display: inline-block;
			width: 45%;
			margin: 0 0 10px;
			padding: 0;
		}

		dt {
			text-align: right;
		}

		.setction {
			margin-top: 15px;
		}

		.pic {
			height: auto;
		}

		.text {
			width: 100%;
		}

		#submit {
			width: 100%;
		}

		h4 {
			margin-top: 50px;
		}

		select {
			height: 45px;
		}

		option {
			height: 45px;
		}

		.btn {
			margin-bottom: 10px;
		}

		label.checkbox {
			padding: 10px 0;
		}

		.row {
			border-bottom-style: dotted;
			border-bottom-width: 1px;
			border-bottom-color: #0f0f0f;
			margin: 10px auto;
		}

		.btn-style {
			width: 100%;
		}

		.container {
			margin-top: 30px;
		}

		input {
			width: 100%;
		}

		.setction {
			margin-top: 15px;
		}

		.btn-style {
			width: 100%;
		}

		.jump-to-btn h4 {
			margin-top: 15px;
		}
	</style>
</head>

<body>
	<section>
		<h2>环境信息</h2>
		<dl>
			<dt>京东 app 版本：</dt>
			<dd id="appver">unknown</dd>
			<dt>操作系统：</dt>
			<dd id="os">unknown</dd>
			<dt>网络状态：</dt>
			<dd id="network">unknown</dd>
		</dl>
	</section>

	<div class="container">
		<h2>导航栏自定义按钮 configBtn</h2>
		<div class="row">
			<div class="col-xs-12">
				<p><a href="javascript:;" class="btn btn-info btn-lg " id="reload_page">重新加载本页面</a></p>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<p><a href="javascript:;" class="btn btn-info btn-lg " id="reset_nav">重置导航栏状态</a></p>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<form style="margin:10px 26px;">
					<select name="dislay_opt" id="dislay_opt">
	                    <option value="show">show</option>
	                    <option value="hide">hide</option>
	                </select>
					<select name="position_opt" id="position_opt">
	                    <option value="outside">outside</option>
	                    <option value="inside">inside</option>
	                </select>
				</form>
				<p>
					<a href="javascript:;" class="btn btn-info btn-lg " id="nav_search">搜索按钮</a>
					<a href="javascript:;" class="btn btn-info btn-lg " id="nav_cart">购物车按钮</a>
					<a href="javascript:;" class="btn btn-info btn-lg " id="nav_custom_1">自定义按钮1</a>
					<a href="javascript:;" class="btn btn-info btn-lg " id="nav_custom_2">自定义按钮2</a>
					<a href="javascript:;" class="btn btn-info btn-lg " id="nav_custom_3">自定义按钮3</a>
				</p>
			</div>
		</div>
	</div>
	<div class='container' style='margin-top:50px;'>
		<h4 style='padding:0 15px;'>6.1导航栏自定义按钮 configBtnSince610</h4>
		<div id='webview_close_option'>
			<div class='setction col-xs-12 col-sm-12'>
				<h5>clear_js重置</h5>
				<div class='clearfix '>
					<div class='col-xs-2 col-sm-2'>
						type
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control">
							<option>clear_js</option>
						</select>
					</div>
				</div>
				<div class='clearfix '>
					<div class='col-xs-2 col-sm-2'>
						display
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control" id='reset_dis_op'>
							<option>show</option>
							<option>hide</option>
							<option>shen</option>
						</select>
					</div>
				</div>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						position
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control" id='reset_pos_op'>
							<option>inside</option>
							<option>outside</option>
							<option>shen</option>
						</select>
					</div>
				</div>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						title
					</div>
					<div class='col-xs-10 col-sm-10'>
						<input type="text" style='width:100%;' value='搜索' id='reset_title_op'>
					</div>
				</div>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						icon
					</div>
					<div class='col-xs-10 col-sm-10'>
						<input type="text" style='width:100%;' value='http://img30.360buyimg.com/img/jfs/t2908/97/887995636/1494/daa390f/572aecfcN98a01bba.png'
						 id='reset_icon_op'>
					</div>
				</div>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						jump
					</div>
					<div class='col-xs-10 col-sm-10'>
						<input type="text" style='width:100%;' value='http://m.jd.com' id='reset_jump_op'>
					</div>
				</div>
				<div>
					<div class='col-xs-12 col-sm-12'><button type='button' id='reset_nav_new' class='btn btn-info' style='width:100%;'>重置导航栏</button></div>
				</div>
			</div>

			<div class='setction col-xs-12 col-sm-12'>
				<h5>1.<span id='homepage_type_opt_key'>homepage</span></h5>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						type:
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control" id='homepage_type_opt'>
							<option>homepage</option>
							<option>message</option>
							<option>calendar</option>
							<option>search</option>
							<option>cart</option>
							<option>share</option>
							<option>shen</option>
						</select>
					</div>
				</div>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						display:
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control" id='homepage_dis_opt'>
							<option>show</option>
							<option>hide</option>
						</select>
					</div>
				</div>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						position:
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control" id='homepage_pos_opt'>
							<option>inside</option>
							<option>outside</option>
							<option>shen</option>
						</select>
					</div>
				</div>
				<div id='homepage_is_show' style='display:none;'>
					<div class='clearfix'>
						<div class='col-xs-2 col-sm-2'>
							title:
						</div>
						<div class='col-xs-10 col-sm-10'>
							<input type="text" style='width:100%;' id='homepage_title_opt'>
						</div>
					</div>
					<div class='clearfix'>
						<div class='col-xs-2 col-sm-2'>
							icon:
						</div>
						<div class='col-xs-10 col-sm-10'>
							<input type="text" style='width:100%;' id='homepage_icon_opt'>
						</div>
					</div>
					<div class='clearfix'>
						<div class='col-xs-2 col-sm-2'>
							jump:
						</div>
						<div class='col-xs-10 col-sm-10'>
							<input type="text" style='width:100%;' id='homepage_jump_opt'>
						</div>
					</div>
				</div>
			</div>

			<div class='setction col-xs-12 col-sm-12'>
				<h5>2.<span id='calendar_type_opt_key'>calendar</span></h5>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						type:
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control" id='calendar_type_opt'>
						<option>calendar</option>
						<option>message</option>
						<option>search</option>
						<option>cart</option>
						<option>share</option>
						<option>homepage</option>
						<option>shen</option>
					</select>
					</div>
				</div>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						display:
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control" id='calendar_dis_opt'>
						<option>show</option>
						<option>hide</option>
						<option>shen</option>
					</select>
					</div>
				</div>
				<div class='clearfix'>
					<div class='col-xs-2 col-sm-2'>
						position:
					</div>
					<div class='col-xs-10 col-sm-10'>
						<select class="form-control" id='calendar_pos_opt'>
						<option>inside</option>
						<option>outside</option>
						<option>shen</option>
					</select>
					</div>
				</div>
				<div id='calendar_is_show' style='display:none;'>
					<div class='clearfix'>
						<div class='col-xs-2 col-sm-2'>
							title:
						</div>
						<div class='col-xs-10 col-sm-10'>
							<input type="text" style='width:100%;' id='calendar_title_opt'>
						</div>
					</div>
					<div class='clearfix'>
						<div class='col-xs-2 col-sm-2'>
							icon:
						</div>
						<div class='col-xs-10 col-sm-10'>
							<input type="text" style='width:100%;' id='calendar_icon_opt'>
						</div>
					</div>
					<div class='clearfix'>
						<div class='col-xs-2 col-sm-2'>
							jump:
						</div>
						<div class='col-xs-10 col-sm-10'>
							<input type="text" style='width:100%;' id='calendar_jump_opt'>
						</div>
					</div>
				</div>
			</div>
		</div>

		<button class='btn btn-info col-xs-12 col-sm-12' id='add-custom-btn' style='margin-top:10px;'>增加custom</button>
		<button class='btn btn-info col-xs-12 col-sm-12' id='center-webview-6-1-btn' style='margin-top:10px;'>确认设置</button>
	</div>

	<div class="container">
		<!---->
		<h2>6.0导航栏背景优化 setNaviBackground</h2>
		<div class='setction col-xs-12 col-sm-12'>
			<div>naviIcon</div>
			<div class='text'><input class='text' type="text" value='1' id='naviIcon-input'></div>
		</div>
		<div class='setction col-xs-12 col-sm-12'>
			<div>backgroundColor</div>
			<div class='text'><input type="text" class='text' value='#000000' id='backgroundColor-input'></div>
		</div>
		<div class='setction col-xs-12 col-sm-12'>
			<div>pic(ios)</div>
			<div class='text'><textarea rows='4' class='text' id='pic-input-ios'>http://m.360buyimg.com/babel/jfs/t2593/359/904272974/12646/793b4297/572abb20N41e8bd85.png</textarea></div>
			<div class='btn-group'>
				<button class='btn-default btn btn-pic' id='to-https'>切换https</button>
				<button class='btn-default btn btn-pic' id='to-http'>切换http</button>
				<button class='btn-default btn btn-pic' id='to-jpg'>切换jpg</button>
				<button class='btn-default btn btn-pic' id='to-png'>切换png</button>
			</div>
		</div>
		<div class='setction col-xs-12 col-sm-12'>
			<div>pic(android)</div>
			<div class='text'><textarea rows='4' class='text' id='pic-input-android'>http://m.360buyimg.com/babel/jfs/t2593/359/904272974/12646/793b4297/572abb20N41e8bd85.png</textarea></div>
			<div class='btn-group'>
				<button class='btn-default btn btn-pic' id='android-to-https'>切换https</button>
				<button class='btn-default btn btn-pic' id='android-to-http'>切换http</button>
				<button class='btn-default btn btn-pic' id='android-to-jpg'>切换jpg</button>
				<button class='btn-default btn btn-pic' id='android-to-png'>切换png</button>
			</div>
		</div>
		<div class='btn-group setction col-xs-12 col-sm-12'>
			<button class='btn btn-info' id='submit'>确认设置</button>
		</div>
	</div>
	<div class="container">
		<!---->
		<h2>6.2显示Webview左上角关闭按钮 showCloseBtn</h2>
		<div class='setction col-xs-12 col-sm-12' style='margin-top:0;'>
			<button class='col-xs-12 col-sm-12 btn-info btn' id='set-close-btn'>显示关闭按钮</button>
		</div>
	</div>
	<div class="container">
		<h2>6.2设置透明导航栏 enableTransparent</h2>
		<div class='setction col-xs-12 col-sm-12' style='margin-top:0;'>
			<div class="block clearfix">
				<div class='col-xs-12 col-sm-12'>1.blackImg:(与黑色icon对应)</div>
				<div class='col-xs-12 col-sm-12'>
					<textarea class='text' rows="2" id="set-nav-black">https://beta-h5.m.jd.com/active/webview/img/title.jpg</textarea>
				</div>
			</div>
			<div class="block clearfix">
				<div class='col-xs-12 col-sm-12'>2.whiteImg:(与白色icon对应)</div>
				<div class='col-xs-12 col-sm-12'>
					<textarea class='text' rows="2" id="set-nav-white">https://beta-h5.m.jd.com/active/webview/img/brand.jpg</textarea>
				</div>
			</div>
			<div class='setction col-xs-12 col-sm-12' style='margin-top:0;'>
				<button class='col-xs-12 col-sm-12 btn-info btn' id='set-nav-btn'>确认</button>
			</div>
			<div class="block clearfix"><a href="https://beta-h5.m.jd.com/active/webview/route.html">单页应用测试</a></div>
		</div>
	</div>
	<div class="container">
		<h2>6.2 单页应用定制页面文字标题 setTitle</h2>
		<div class='setction col-xs-12 col-sm-12' style='margin-top:0;'>
			<div class="block clearfix">
				<div class='col-xs-12 col-sm-12'>设置标题</div>
				<div class='col-xs-12 col-sm-12'>
					<textarea class='text' rows="2" id="set-nav-title">标题1</textarea>
				</div>
			</div>
			<button class='col-xs-12 col-sm-12 btn-info btn' id='set-title-btn'>确认</button>
		</div>
	</div>
	<div class='container'>
		<h2 style='padding:0 15px;'>多种相片上传 showNativeUpload</h2>
		<button class='col-xs-12 col-sm-12 btn-info btn' id='pic-send-btn' style="margin-bottom:50px;">确认上传</button>
	</div>
	<div class='container'>
		<h2 style='padding:0 15px;'>扫阿扫 showNativeBarcodeScan</h2>
		<input type="text" id="expressCode" name="expressCode" value="" placeholder="请输入快递单号" />
		<button class='col-xs-12 col-sm-12 btn-info btn' id='reset_nav_id' style="margin-bottom:50px;">开启扫阿扫</button>
	</div>

	<script type="text/javascript" src="//cdn.bootcss.com/zepto/1.2.0/zepto.js"></script>
	<script type="text/javascript" src="//wechatfe.github.io/vconsole/lib/vconsole.min.js?v=2.5.0"></script>
	<script type="text/javascript" src="/node_modules/@jmfe/jm-common/bundle/jm-common.js"></script>
	<script type="text/javascript" src="/bundle/jm-webview.js"></script>
	<script type="text/javascript">
		$(function () {
			var os = null;

			if (jm.common.isAndroid()) os = 'Android';
			else if (jm.common.isIOS()) os = 'IOS';

			$('#appver').html(jm.common.getAppVersion('jd'));
			$('#network').html(jm.common.getNetwork());
			if (os) $('#os').html(os);
		});
	</script>
	<script type="text/javascript">
		$(function () {
			//满意度调查url
			var invitationUrl = 'http://m.jd.com';

			if (invitationUrl) {
				jm.webview.configBtnClear();
				jm.webview.configBtnSet({
					type: "custom",
					display: "show",
					position: "outside",
					icon: "http://img30.360buyimg.com/img/jfs/t2908/97/887995636/1494/daa390f/572aecfcN98a01bba.png",
					title: "满意度调查",
					jump: invitationUrl
				})
			};
		})
	</script>
	<script>
		//导航栏自定义按钮 configBtn
		$('#reload_page').click(function () {
			location.reload()
		});

		$('#reset_nav').click(function (e) {			
			jm.webview.configBtnClear();
		});

		$('#nav_search').click(function (e) {
			jm.webview.configBtnSet({
				type: "search",  //clear_js, search, cart, custom
				display: $("#dislay_opt").val(), //show, hide
				position: $("#position_opt").val(),  //outside, inside
				icon: "http://m.360buyimg.com/n1/s120x120_jfs/t2566/341/1119128176/23675/6356333b/568e3d86Naa36a750.jpg", // http://www.jd.com/icon.png 仅限 type 为 custom 时有意义
				title: "我是搜索", //搜索, 购物车, 自定义
				jump: "http://m.jd.com" //http..., openapp...
			})
		});

		// 5.1 版本使用新版显示购物车功能；5.0版本时的显示购物车功能不能使用；
		$('#nav_cart').click(function (e) {
			jm.webview.configBtnSet({
				type: "cart",  //clear_js, search, cart, custom
				display: $("#dislay_opt").val(), //show, hide
				position: $("#position_opt").val(),  //outside, inside
				icon: "http://m.360buyimg.com/n1/s120x120_jfs/t2566/341/1119128176/23675/6356333b/568e3d86Naa36a750.jpg", // http://www.jd.com/icon.png 仅限 type 为 custom 时有意义
				title: "我是购物车", //搜索, 购物车, 自定义
				jump: "http://m.jd.com" //http..., openapp...
			});
		});

		$('#nav_custom_1').click(function (e) {
			jm.webview.configBtnSet({
				type: "custom",  //clear_js, search, cart, custom
				display: $("#dislay_opt").val(), //show, hide
				position: $("#position_opt").val(),  //outside, inside
				icon: "http://h5.m.jd.com/active/3uvhvNa3ibJeg7CAsNazYgzw5Wai/asdad20151109153306.png", // http://www.jd.com/icon.png 仅限 type 为 custom 时有意义
				title: "按钮1111", //搜索, 购物车, 自定义
				jump: "http://m.jd.com" //http..., openapp...
			})

		});

		$('#nav_custom_2').click(function (e) {
			jm.webview.configBtnSet({
				type: "custom",  //clear_js, search, cart, custom
				display: $("#dislay_opt").val(), //show, hide
				position: $("#position_opt").val(),  //outside, inside
				icon: "http://m.360buyimg.com/n1/s120x120_jfs/t2566/341/1119128176/23675/6356333b/568e3d86Naa36a750.jpg", // http://www.jd.com/icon.png 仅限 type 为 custom 时有意义
				title: "按钮2222", //搜索, 购物车, 自定义
				jump: 'openapp.jdmobile://virtual?params=' + encodeURIComponent('{"category":"jump","des":"cartB","skuId":0,"skuNum":0}') //http..., openapp...
			})
		});

		$('#nav_custom_3').click(function (e) {
			jm.webview.configBtnSet({
				type: "custom",  //clear_js, search, cart, custom
				display: $("#dislay_opt").val(), //show, hide
				position: $("#position_opt").val(),  //outside, inside
				icon: "http://m.360buyimg.com/n1/s120x120_jfs/t2566/341/1119128176/23675/6356333b/568e3d86Naa36a750.jpg", // http://www.jd.com/icon.png 仅限 type 为 custom 时有意义
				title: "按钮3333", //搜索, 购物车, 自定义
				jump: "openapp.jdmobile://virtual?params=" + encodeURIComponent('{"category":"jump","des":"productDetail","skuId":"1950749","sourceType":"listActivity","sourceValue":"5_25_1_65689","landPageId":"jshop.cx.mobile","refurl":"http://sale.jd.com/app/act/EPUGjuIa7MwAQO.html"}') //http..., openapp...
			})
		});
	</script>
	<script>
		// 6.1 Webview导航栏自定义按钮 configBtnSince610
		//1.首先调用使导航栏按钮回到默认状态
		$("#reset_nav_new").on('click', function () {
			jm.webview.configBtnClear()
		});
		//2.然后配置，配置项里面没有的选项，客户端按照默认方式处理
		var custom_click_num = 0;
		var CUSTOM_ICON = ['http://m.360buyimg.com/n1/s120x120_jfs/t2566/341/1119128176/23675/6356333b/568e3d86Naa36a750.jpg', 'http://h5.m.jd.com/active/3uvhvNa3ibJeg7CAsNazYgzw5Wai/asdad20151109153306.png', 'http://betah5.m.jd.com/active/webview/img/title.jpg', 'http://jcode.jd.com/misc/skin/2015/i/shareicon.png'];
		var CUSTOM_TITLE = ['搜索1', '搜索2', '搜索3', '搜索4'];
		var CUSTOM_JUMP = 'http://m.jd.com';
		var homepage_param = '';
		var calendar_param = '';

		var custom = [];

		$('#homepage_type_opt').on('change', function (e) {
			if (e.target.value == 'custom') {
				$('#homepage_is_show').show();
				$('#homepage_title_opt').val(CUSTOM_TITLE[0]);
				$('#homepage_icon_opt').val(CUSTOM_ICON[0]);
				$('#homepage_jump_opt').val(CUSTOM_JUMP);
			} else {
				$('#homepage_is_show').hide();
				$('#homepage_title_opt').val('');
				$('#homepage_icon_opt').val('');
				$('#homepage_jump_opt').val('');
			}
			$("#homepage_type_opt_key").html(e.target.value);
		});

		$('#calendar_type_opt').on('change', function (e) {
			if (e.target.value == 'custom') {
				$('#calendar_is_show').show();
				$('#calendar_title_opt').val(CUSTOM_TITLE[1]);
				$('#calendar_icon_opt').val(CUSTOM_ICON[1]);
				$('#calendar_jump_opt').val(CUSTOM_JUMP);
			} else {
				$('#calendar_is_show').hide();
				$('#calendar_title_opt').val('');
				$('#calendar_icon_opt').val('');
				$('#calendar_jump_opt').val('');
			}
			$("#calendar_type_opt_key").html(e.target.value);
		});

		$('#add-custom-btn').on('click', function () {
			custom_click_num += 1;
			$('#webview_close_option').append('\n          <div class=\'setction col-xs-12 col-sm-12\' id=' + ('add_custom' + custom_click_num) + '>\n            <h5>' + (custom_click_num + 2) + '.<span id=' + ('add_custom_' + custom_click_num) + '>custom</span></h5>\n            <div class=\'clearfix\'>\n              <div class=\'col-xs-2 col-sm-2\'>\n                type:\n              </div>\n              <div class=\'col-xs-10 col-sm-10\'>\n                <select class="form-control form-option-btn" id=' + ('custom_type_opt' + custom_click_num) + ' data-clickid=' + custom_click_num + '>\n                  <option>custom</option>\n                  <option>message</option>\n                  <option>search</option>\n                  <option>cart</option>\n                  <option>homepage</option>\n                  <option>share</option>\n                </select>\n              </div>\n            </div>  \n            <div class=\'clearfix\'>\n              <div class=\'col-xs-2 col-sm-2\'>\n                display:\n              </div>\n              <div class=\'col-xs-10 col-sm-10\'>\n                <select class="form-control" id=' + ('custom_dis_opt' + custom_click_num) + '>\n                  <option>show</option>\n                  <option>hide</option>\n                </select>\n              </div>\n            </div>  \n            <div class=\'clearfix\'>\n              <div class=\'col-xs-2 col-sm-2\'>\n                position:\n              </div>\n              <div class=\'col-xs-10 col-sm-10\'>\n                <select class="form-control" id=' + ('custom_pos_opt' + custom_click_num) + '>\n                  <option>inside</option>\n                  <option>outside</option>\n                </select>\n              </div>\n            </div>  \n            <div id=' + ('custom_is_show' + custom_click_num) + ' data-show=\'custom_click_num\'>\n              <div class=\'clearfix\'>\n                <div class=\'col-xs-2 col-sm-2\'>\n                  title:\n                </div>\n                <div class=\'col-xs-10 col-sm-10\'>\n                  <input type="text" style=\'width:100%;\' value=' + ('搜索' + custom_click_num) + '  id=' + ('custom_title_opt' + custom_click_num) + '>\n                </div>\n              </div>  \n              <div class=\'clearfix\'>\n                <div class=\'col-xs-2 col-sm-2\'>\n                  icon:\n                </div>\n                <div class=\'col-xs-10 col-sm-10\'>\n                  <input type="text" style=\'width:100%;\' value=' + (custom_click_num > 4 ? CUSTOM_ICON[0] : CUSTOM_ICON[custom_click_num - 1]) + '  id=' + ('custom_icon_opt' + custom_click_num) + '>\n                </div>\n              </div>\n              <div class=\'clearfix\'>\n                <div class=\'col-xs-2 col-sm-2\'>\n                  jump:\n                </div>\n                <div class=\'col-xs-10 col-sm-10\'>\n                  <input type="text" style=\'width:100%;\' value=\'http://m.jd.com\'  id=' + ('custom_jump_opt' + custom_click_num) + '>\n                </div>\n              </div>\n            </div>\n          </div>\n        ');
		});

		$('body').on('change', '.form-option-btn', function (e) {
			var id = $(this).data('clickid');
			var value = e.target.value;
			var index = '';
			var add_key_arr = [];

			$('#add_custom_' + id).html(value);
			if (e.target.value === 'custom') {
				$('#custom_is_show' + id).show();
				id >= 4 ? index = 1 : index = id;
				$('#custom_title_opt' + id).val(CUSTOM_TITLE[index - 1]);
				$('#custom_icon_opt' + id).val(CUSTOM_ICON[index]);
				$('#custom_jump_opt' + id).val(CUSTOM_JUMP);
			} else {
				$('#custom_is_show' + id).hide();
				$('#custom_title_opt' + id).val('');
				$('#custom_icon_opt' + id).val('');
				$('#custom_jump_opt' + id).val('');
			}
		});

		$('#center-webview-6-1-btn').on('click', function () {
			var obj = {};
			var customArr = [];
			var custom = {};
			for (var i = 1; i < custom_click_num + 1; i++) {
				var key = $('#add_custom_' + i).html();
				if (key !== 'custom') {
					obj[key] = {
						type: $('#custom_type_opt' + i).val(),
						display: $('#custom_dis_opt' + i).val(),
						position: $('#custom_pos_opt' + i).val(),
						title: $('#custom_title_opt' + i).val(),
						icon: $('#custom_icon_opt' + i).val(),
						jump: $('#custom_jump_opt' + i).val()
					};
				} else {
					var obj2 = {};
					obj2 = {
						type: $('#custom_type_opt' + i).val(),
						display: $('#custom_dis_opt' + i).val(),
						position: $('#custom_pos_opt' + i).val(),
						title: $('#custom_title_opt' + i).val(),
						icon: $('#custom_icon_opt' + i).val(),
						jump: $('#custom_jump_opt' + i).val()
					};
					customArr.push(obj2);
				}
			}
			if (customArr.length > 0) {
				custom['custom'] = customArr;
			}
			//新加的数据
			//console.log(custom,obj)    
			homepage_param = {
				type: $('#homepage_type_opt').val(),
				display: $('#homepage_dis_opt').val(),
				position: $('#homepage_pos_opt').val(),
				title: $('#homepage_title_opt').val(),
				icon: $('#homepage_icon_opt').val(),
				jump: $('#homepage_jump_opt').val()
			};
			calendar_param = {
				type: $('#calendar_type_opt').val(),
				display: $('#calendar_dis_opt').val(),
				position: $('#calendar_pos_opt').val(),
				title: $('#calendar_title_opt').val(),
				icon: $('#calendar_icon_opt').val(),
				jump: $('#calendar_jump_opt').val()
			};

			var key1 = $('#homepage_type_opt_key').html();
			var key2 = $('#calendar_type_opt_key').html();
			var _value = {};
			_value[key1] = homepage_param;
			_value[key2] = calendar_param;
			var _value2 = $.extend(_value, custom, obj);

			jm.webview.configBtnSince610(_value);
		});
	</script>
	<script>
		//webview6.0导航栏背景优化 setNaviBackground
		(function () {
			var pic = 'https://m.360buyimg.com/babel/jfs/t4036/283/2146564148/19349/f7389255/58a4184aNdb067a60.jpg';
			var picHttp = 'http://m.360buyimg.com/babel/jfs/t4036/283/2146564148/19349/f7389255/58a4184aNdb067a60.jpg';
			var picPng = 'http://h5.m.jd.com/active/3uvhvNa3ibJeg7CAsNazYgzw5Wai/asdad20151109153306.png';

			var pic2 = 'https://m.360buyimg.com/babel/jfs/t4036/283/2146564148/19349/f7389255/58a4184aNdb067a60.jpg';
			var picHttp2 = 'http://m.360buyimg.com/babel/jfs/t4036/283/2146564148/19349/f7389255/58a4184aNdb067a60.jpg';
			var picPng2 = 'http://h5.m.jd.com/active/3uvhvNa3ibJeg7CAsNazYgzw5Wai/asdad20151109153306.png';
			var params = {};
			var confirmBtn = document.querySelector('#submit');
			function go(params) {
				jm.webview.setNaviBackground(params)
			}
			$('.btn-pic').on('click', function () {
				var id = $(this).attr('id');
				switch (id) {
					case 'to-https':
						$('#pic-input-ios').val(pic);
						break;
					case 'to-http':
						$('#pic-input-ios').val(picHttp);
						break;
					case 'to-jpg':
						$('#pic-input-ios').val(pic);
						break;
					case 'to-png':
						$('#pic-input-ios').val(picPng);
						break;

					case 'android-to-https':
						$('#pic-input-android').val(pic2);
						break;
					case 'android-to-http':
						$('#pic-input-android').val(picHttp2);
						break;
					case 'android-to-jpg':
						$('#pic-input-android').val(pic2);
						break;
					case 'android-to-png':
						$('#pic-input-android').val(picPng2);
						break;
				}
			});
			confirmBtn.addEventListener('click', function () {
				var img = '';
				jm.common.isIOS() ? img = $('#pic-input-ios').val() : img = $('#pic-input-android').val();
				var params = {
					naviIcon: $('#naviIcon-input').val(),
					backgroundColor: $('#backgroundColor-input').val(),
					pic: img,
				}
				go(params)
			});
		})()
	</script>
	<script>
			(function () {
				// 屏蔽Webview左上角关闭按钮及逻辑
				$('#set-close-btn').on('click', function () {
					jm.webview.showCloseBtn();
				});

				//设置透明导航栏
				$('#set-nav-btn').on('click', function () {
					var val1 = $('#set-nav-black').val();
					var val2 = $('#set-nav-white').val();
					jm.webview.enableTransparent({
						blackImg: val1,
						whiteImg: val2,
					})
				});

				//通过JS改变webview导航栏上展示的文字标题功能,此标题设置优先级最高；
				$('#set-title-btn').on('click', function () {
					var title = $('#set-nav-title').val();
					jm.webview.setTitle(title);
				});
			})()
	</script>
	<script>
			(function () {
				//多种图片上传
				$('#pic-send-btn').on('click', function () {
					jm.webview.showNativeUpload();
				})
			})()
	</script>
	<script>
			(function () {
				window.nativeBarcodeScanCallBack = function(expressCode) {
					console.log(expressCode);
					if (expressCode && expressCode != "scan_failure") {
						$('#expressCode').val(expressCode);
					}
				}
				$('#reset_nav_id').click(function (e) {
					jm.webview.showNativeBarcodeScan('nativeBarcodeScanCallBack');
				});
			})()
	</script>
</body>

</html>
