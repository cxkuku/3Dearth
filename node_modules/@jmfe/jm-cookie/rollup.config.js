const uglify = require('rollup-plugin-uglify');
const babel = require('rollup-plugin-babel');

let config = {
	entry: './src/index.js',
	targets: [
		{ format: 'umd', dest: './bundle/jm-cookie.js' },
		{ format: 'es', dest: './bundle/jm-cookie.es.js' },
	],
	moduleName: 'jm.cookie',
	globals: {},
	plugins: [
		babel()
	]
};

if (process.env.min) {
	config.targets.pop();
	config.targets[0].dest = './bundle/jm-cookie.min.js';
	config.plugins.push(uglify());
}

export default config;
